<div class="mobile-modal-root">
  <!-- Header -->
  <div class="modal-header">
    <h2>Modificar Producto</h2>
    <button mat-icon-button (click)="cancel()" class="close-button" aria-label="Close">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Scrollable Form -->
  <form [formGroup]="form" (ngSubmit)="save()" class="modal-form">
    <div class="modal-scroll-container">
      <mat-card class="form-card">
        <mat-card-content>
          <!-- Fields (same as before) -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Referencia</mat-label>
            <input matInput formControlName="reference" readonly >
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Código</mat-label>
            <input matInput formControlName="code" readonly >
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Tipo de Código</mat-label>
            <input matInput formControlName="codetype" readonly >
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="name" required>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Display</mat-label>
            <input matInput formControlName="display">
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Precio de Venta</mat-label>
            <input matInput formControlName="pricesell" type="number" inputmode="decimal" required>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Precio de Compra</mat-label>
            <input matInput formControlName="pricebuy" type="number" inputmode="decimal" required>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Categoría</mat-label>
            <mat-select formControlName="categoryId" required>
              <mat-option *ngFor="let c of categories" [value]="c.id">{{ c.name }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Categoría del Impuesto</mat-label>
            <mat-select formControlName="taxcatId" required>
              <mat-option *ngFor="let tc of taxCategories" [value]="tc.id">{{ tc.name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Fixed Action Bar -->
    <div class="action-bar">
      <button mat-button type="button" (click)="cancel()" class="cancel-button">Cancelar</button>
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid" class="save-button">Guardar</button>
    </div>
  </form>
</div>



