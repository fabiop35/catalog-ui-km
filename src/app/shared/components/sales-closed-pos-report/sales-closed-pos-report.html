<div class="container">
    <h1>Reporte de Cierres de Caja</h1>

    <div class="filters">
        <mat-form-field appearance="fill">
            <mat-label>Fecha inicio</mat-label>
            <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate" (dateChange)="onDateRangeChange()">
            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Fecha fin</mat-label>
            <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate" (dateChange)="onDateRangeChange()">
            <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
        </mat-form-field>

        <button mat-raised-button color="primary" (click)="exportToPdf()">Exportar a PDF</button>
    </div>

    <!-- Dedicated container for table horizontal scrolling -->
    <div class="table-scroll-container">
        <mat-table [dataSource]="dataSource" class="mat-elevation-z8" [multiTemplateDataRows]="true">
            <ng-container matColumnDef="host">
                <mat-header-cell *matHeaderCellDef> Terminal </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.host}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="hostSequence">
                <mat-header-cell *matHeaderCellDef> Sequencia </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.hostSequence}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="dateStart">
                <mat-header-cell *matHeaderCellDef> Fecha inicio </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.dateStart | date:'dd/MM/yyyy HH:mm'}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="dateEnd">
                <mat-header-cell *matHeaderCellDef> Fecha fin </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.dateEnd | date:'dd/MM/yyyy HH:mm'}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="payment">
                <mat-header-cell *matHeaderCellDef> Tipo de pago </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.payment}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="total">
                <mat-header-cell *matHeaderCellDef> Total </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.total | number:'1.2-2'}} </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;" matRowDefWhen="let row"></mat-row>
        </mat-table>
    </div>
</div>